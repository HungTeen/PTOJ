(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0d362a"],{"5d16":function(e,t,r){"use strict";r.r(t);var n=r("3228"),i=r("7aa9"),o={name:"GroupProblemList",data:function(){return{total:0,query:{gid:null,limit:10,keyword:"",currentPage:1},problemList:[],loading:!1,showPagination:!1}},mounted:function(){this.init()},methods:{init:function(){var e=this.$route.query;this.query.currentPage=e.currentPage||1,this.query.limit=e.limit||10,this.query.keyword=e.keyword,this.query.gid=e.gid||null,this.getProblemList()},getProblemList:function(){var e=this,t={limit:this.query.limit,currentPage:this.query.currentPage,keyword:this.query.keyword,gid:this.query.gid};this.loading=!0,n.a.admin_getGroupApplyProblemList(t).then((function(t){e.loading=!1,e.total=t.data.data.total,e.problemList=t.data.data.records,e.showPagination=!0}),(function(t){e.loading=!1,e.showPagination=!0}))},currentChange:function(e){this.query.currentPage=e,this.pushRouter()},onPageSizeChange:function(e){this.query.limit=e,this.pushRouter()},pushRouter:function(){this.$router.push({name:"admin-group-apply-problem",query:this.query})},changeProblemProgress:function(e,t){var r=this;n.a.admin_changeGroupProblemApplyProgress({pid:e,progress:t}).then((function(e){i.a.success(r.$i18n.t("m.Update_Successfully"))}))},goUserHome:function(e){window.open("/user-home?username="+e)},goEdit:function(e){this.$router.push({name:"admin-edit-problem",params:{problemId:e},query:{back:this.$route.fullPath}})},goGroup:function(e){window.open("/group/"+e)}},watch:{$route:function(e,t){e!==t&&this.init()}}};r=r("2877"),o=Object(r.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.$t("m.Admin_Group_Apply_Problem")))]),r("el-row",{attrs:{gutter:30}},[r("el-col",{staticStyle:{"margin-top":"15px"},attrs:{xs:24,md:6}},[r("el-input",{attrs:{placeholder:e.$t("m.Enter_keyword"),size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.pushRouter(t)}},model:{value:e.query.keyword,callback:function(t){e.$set(e.query,"keyword",t)},expression:"query.keyword"}})],1),r("el-col",{staticStyle:{"margin-top":"15px"},attrs:{xs:24,md:6}},[r("el-input",{attrs:{placeholder:e.$t("m.Enter_Group_ID"),type:"number",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.pushRouter(t)}},model:{value:e.query.gid,callback:function(t){e.$set(e.query,"gid",t)},expression:"query.gid"}})],1),r("el-col",{staticStyle:{"margin-top":"15px"},attrs:{xs:24,md:6}},[r("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.pushRouter}},[e._v(e._s(e.$t("m.Search"))+" ")])],1)],1)],1),r("vxe-table",{ref:"adminProblemList",attrs:{stripe:"","auto-resize":"",data:e.problemList,loading:e.loading,align:"center"}},[r("vxe-table-column",{attrs:{field:"gid","min-width":"64",title:e.$t("m.Group_Number"),"show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("el-link",{staticStyle:{"font-size":"13px"},attrs:{type:"primary"},on:{click:function(t){return e.goGroup(n.gid)}}},[e._v(e._s(n.gid)+" ")])]}}])}),r("vxe-table-column",{attrs:{"min-width":"64",field:"id",title:e.$t("m.Problem")+" ID"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("el-link",{staticStyle:{"font-size":"13px"},attrs:{type:"success"},on:{click:function(t){return e.goEdit(n.id)}}},[e._v(e._s(n.id)+" ")])]}}])}),r("vxe-table-column",{attrs:{"min-width":"100",field:"problemId",title:e.$t("m.Display_ID")}}),r("vxe-table-column",{attrs:{field:"title","min-width":"150",title:e.$t("m.Title"),"show-overflow":""}}),r("vxe-table-column",{attrs:{field:"type","min-width":"64",title:e.$t("m.Type"),"show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return t=t.row,[r("el-tag",{attrs:{type:"gray"}},[e._v(e._s(e._f("parseContestType")(t.type)))])]}}])}),r("vxe-table-column",{attrs:{field:"judgeMode","min-width":"64",title:e.$t("m.Judge_Mode"),"show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return t=t.row,["default"==t.judgeMode?r("span",[e._v(e._s(e.$t("m.General_Judge")))]):"spj"==t.judgeMode?r("span",[e._v(e._s(e.$t("m.Special_Judge")))]):"interactive"==t.judgeMode?r("span",[e._v(e._s(e.$t("m.Interactive_Judge")))]):e._e()]}}])}),r("vxe-table-column",{attrs:{field:"author","min-width":"130",title:e.$t("m.Author"),"show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("el-link",{staticStyle:{"font-size":"13px"},attrs:{type:"primary"},on:{click:function(t){return e.goUserHome(n.author)}}},[e._v(e._s(n.author))])]}}])}),r("vxe-table-column",{attrs:{"min-width":"120",title:e.$t("m.Examine")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[r("el-select",{attrs:{size:"small"},on:{change:function(t){return e.changeProblemProgress(n.id,n.applyPublicProgress)}},model:{value:n.applyPublicProgress,callback:function(t){e.$set(n,"applyPublicProgress",t)},expression:"row.applyPublicProgress"}},[r("el-option",{attrs:{label:e.$t("m.Applying"),value:1}}),r("el-option",{attrs:{label:e.$t("m.Agreed"),value:2}}),r("el-option",{attrs:{label:e.$t("m.Refused"),value:3}})],1)]}}])})],1),r("div",{staticClass:"panel-options"},[e.showPagination?r("el-pagination",{staticClass:"page",attrs:{layout:"prev, pager, next, sizes","page-size":e.query.limit,total:e.total,"current-page":e.query.currentPage,"page-sizes":[10,30,50,100]},on:{"current-change":e.currentChange,"update:currentPage":function(t){return e.$set(e.query,"currentPage",t)},"update:current-page":function(t){return e.$set(e.query,"currentPage",t)},"size-change":e.onPageSizeChange}}):e._e()],1)],1)],1)}),[],!1,null,null,null);t.default=o.exports}}]);