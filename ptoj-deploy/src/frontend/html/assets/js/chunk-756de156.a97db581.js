(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-756de156"],{"06c3":function(i,t,a){},c7d5:function(i,t,a){"use strict";a.r(t),a("4de4");var s=a("7aa9"),n=a("3228"),e=a("9a36"),l={data:function(){return{tagOj:"ME",REMOTE_OJ:{},getTagListLoading:!1,tagsAndClassificationList:[],tagClassificationList:[],chooseTagClassificationList:[],addTagDialogVisible:!1,upsertTagTitle:"Add_Tag",upsertTagBtn:"To_Add",upsertTagLoading:!1,tag:{id:null,name:null,color:null,oj:"ME",tcid:null},tagClassification:{id:null,name:null,rank:0,oj:"ME"},addTagClassificationDialogVisible:!1,upsertTagClassificationTitle:"Add_Tag_Classification",upsertTagClassificationLoading:!1,activeTagClassificationIdList:[-1]}},mounted:function(){this.REMOTE_OJ=Object.assign({},e.l),this.init()},methods:{init:function(){this.getTagClassification(),this.getProblemTagsAndClassification()},getProblemTagsAndClassification:function(){var i=this;this.getTagListLoading=!0,n.a.getProblemTagsAndClassification(this.tagOj).then((function(t){i.tagsAndClassificationList=t.data.data,i.getTagListLoading=!1}),(function(t){i.getTagListLoading=!1}))},deleteTag:function(i){var t=this;this.$confirm(this.$i18n.t("m.Delete_Tag_Tips"),"Tips",{type:"warning"}).then((function(){n.a.admin_deleteTag(i.id).then((function(i){s.a.success(t.$i18n.t("m.Delete_successfully")),t.getProblemTagsAndClassification()})).catch((function(){}))}),(function(){}))},openTagDialog:function(i,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;"add"==i?(this.upsertTagTitle="Add_Tag",this.upsertTagBtn="To_Add",this.tag={id:null,name:null,color:null,oj:this.tagOj,tcid:null==a?null:a.id}):(this.upsertTagTitle="Update_Tag",this.upsertTagBtn="To_Update",this.tag=Object.assign({},t)),this.addTagDialogVisible=!0},upsertTag:function(){var i=this;this.tag.id?(this.upsertTagLoading=!0,n.a.admin_updateTag(this.tag).then((function(t){i.upsertTagLoading=!1,s.a.success(i.$i18n.t("m.Update_Successfully")),i.addTagDialogVisible=!1,i.getProblemTagsAndClassification()}),(function(t){i.upsertTagLoading=!1}))):(this.upsertTagLoading=!0,n.a.admin_addTag(this.tag).then((function(t){i.upsertTagLoading=!1,s.a.success(i.$i18n.t("m.Add_Successfully")),i.addTagDialogVisible=!1,i.getProblemTagsAndClassification()}),(function(t){i.upsertTagLoading=!1})))},getTagClassification:function(){var i=this;n.a.admin_getTagClassification(this.tagOj).then((function(t){i.tagClassificationList=t.data.data,i.chooseTagClassificationList=i.tagClassificationList.filter((function(t){return t.oj==i.tag.oj}))}))},upsertTagClassification:function(){var i=this;this.tagClassification.id?(this.upsertTagClassificationLoading=!0,n.a.admin_updateTagClassification(this.tagClassification).then((function(t){i.upsertTagClassificationLoading=!1,s.a.success(i.$i18n.t("m.Update_Successfully")),i.addTagClassificationDialogVisible=!1,i.getProblemTagsAndClassification()}),(function(t){i.upsertTagClassificationLoading=!1}))):(this.upsertTagClassificationLoading=!0,n.a.admin_addTagClassification(this.tagClassification).then((function(t){i.upsertTagClassificationLoading=!1,s.a.success(i.$i18n.t("m.Add_Successfully")),i.tagsAndClassificationList.unshift({classification:t.data.data,tagList:[]}),i.chooseTagClassificationList.push(t.data.data),i.addTagClassificationDialogVisible=!1}),(function(t){i.upsertTagClassificationLoading=!1})))},deleteTagClassification:function(i){var t=this;this.$confirm(this.$i18n.t("m.Delete_Tag_Classification_Tips"),"Tips",{type:"warning"}).then((function(){n.a.admin_deleteTagClassification(i.id).then((function(i){s.a.success(t.$i18n.t("m.Delete_successfully")),t.getProblemTagsAndClassification()})).catch((function(){}))}),(function(){}))},openTagClassificationDialog:function(i,t){"add"==i?(this.upsertTagClassificationTitle="Add_Tag_Classification",this.upsertTagBtn="To_Add",this.tagClassification={id:null,name:null,rank:0,oj:this.tagOj}):(this.upsertTagClassificationTitle="Update_Tag_Classification",this.upsertTagBtn="To_Update",this.tagClassification=Object.assign({},t)),this.addTagClassificationDialogVisible=!0}},watch:{"tag.oj":function(i){this.chooseTagClassificationList=this.tagClassificationList.filter((function(t){return t.oj==i})),this.tag.tcid=null}}};a("d1a8"),a=a("2877"),l=Object(a.a)(l,(function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"panel-title home-title"},[i._v(i._s(i.$t("m.Admin_Tag")))]),a("div",{staticClass:"filter"},[a("span",[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return i.openTagDialog("add",null)}}},[i._v(i._s(i.$t("m.Add_Tag"))+" ")])],1),a("span",[a("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-plus"},on:{click:function(t){return i.openTagClassificationDialog("add",null)}}},[i._v(i._s(i.$t("m.Add_Tag_Classification"))+" ")])],1),a("span",[a("el-select",{staticStyle:{width:"150px","margin-top":"10px"},attrs:{size:"small"},on:{change:i.init},model:{value:i.tagOj,callback:function(t){i.tagOj=t},expression:"tagOj"}},[a("el-option",{attrs:{label:i.$t("m.My_OJ"),value:"ME"}}),i._l(i.REMOTE_OJ,(function(i,t){return a("el-option",{key:t,attrs:{label:i.name,value:i.key}})}))],2)],1)])]),a("h3",{staticStyle:{margin:"-5px"}},[i._v(i._s(i.$t("m.Tag_Tips")))])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:i.getTagListLoading,expression:"getTagListLoading"}]},[a("el-row",{attrs:{gutter:20}},i._l(i.tagsAndClassificationList,(function(t,s){return a("el-col",{key:s,attrs:{md:8,xs:24}},[a("el-card",{staticStyle:{"margin-top":"15px"}},[a("el-collapse",{model:{value:i.activeTagClassificationIdList,callback:function(t){i.activeTagClassificationIdList=t},expression:"activeTagClassificationIdList"}},[a("el-collapse-item",{attrs:{name:null==t.classification?-1:t.classification.id}},[a("template",{slot:"title"},[a("span",[i._v(i._s(null!=t.classification?t.classification.name:i.$t("m.Unclassified"))+" ")]),null!=t.classification?a("span",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"mini"},on:{click:function(a){return a.stopPropagation(),i.openTagClassificationDialog("update",t.classification)}}})],1):i._e(),null!=t.classification?a("span",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(a){return a.stopPropagation(),i.deleteTagClassification(t.classification)}}})],1):i._e()]),a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(a){return i.openTagDialog("add",null,t.classification)}}},[i._v("+ "+i._s(i.$t("m.Add_Tag")))]),i._l(t.tagList,(function(t,s){return a("el-tag",{key:s,staticClass:"tag",attrs:{closable:"",color:t.color||"#409eff",effect:"dark","disable-transitions":!1},on:{close:function(a){return i.deleteTag(t)},click:function(a){return i.openTagDialog("update",t)}}},[i._v(" "+i._s(t.name)+" ")])}))],2)],1)],1)],1)})),1)],1),a("el-dialog",{attrs:{title:i.$t("m."+i.upsertTagTitle),width:"350px",visible:i.addTagDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){i.addTagDialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:i.$t("m.Tag_Name"),required:""}},[a("el-input",{attrs:{size:"small"},model:{value:i.tag.name,callback:function(t){i.$set(i.tag,"name",t)},expression:"tag.name"}})],1),a("el-form-item",{attrs:{label:i.$t("m.Tag_Color"),required:""}},[a("el-color-picker",{model:{value:i.tag.color,callback:function(t){i.$set(i.tag,"color",t)},expression:"tag.color"}})],1),a("el-form-item",{attrs:{label:i.$t("m.Tag_Attribution"),required:""}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:i.tag.oj,callback:function(t){i.$set(i.tag,"oj",t)},expression:"tag.oj"}},[a("el-option",{attrs:{label:i.$t("m.My_OJ"),value:"ME"}}),i._l(i.REMOTE_OJ,(function(i,t){return a("el-option",{key:t,attrs:{label:i.name,value:i.key}})}))],2)],1),a("el-form-item",{attrs:{label:i.$t("m.Tag_Classification"),required:""}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:i.tag.tcid,callback:function(t){i.$set(i.tag,"tcid",t)},expression:"tag.tcid"}},[i._l(i.chooseTagClassificationList,(function(i,t){return a("el-option",{key:t,attrs:{label:i.name,value:i.id}})})),a("el-option",{attrs:{label:i.$t("m.Unclassified"),value:null}})],2)],1),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",loading:i.upsertTagLoading},on:{click:i.upsertTag}},[i._v(i._s(i.$t("m."+i.upsertTagBtn))+" ")])],1)],1)],1),a("el-dialog",{attrs:{title:i.$t("m."+i.upsertTagClassificationTitle),width:"350px",visible:i.addTagClassificationDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){i.addTagClassificationDialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:i.$t("m.Tag_Classification_Name"),required:""}},[a("el-input",{attrs:{size:"small"},model:{value:i.tagClassification.name,callback:function(t){i.$set(i.tagClassification,"name",t)},expression:"tagClassification.name"}})],1),a("el-form-item",{attrs:{label:i.$t("m.Tag_Classification_Attribution"),required:""}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"small",disabled:!0},model:{value:i.tagClassification.oj,callback:function(t){i.$set(i.tagClassification,"oj",t)},expression:"tagClassification.oj"}},[a("el-option",{attrs:{label:i.$t("m.My_OJ"),value:"ME"}}),i._l(i.REMOTE_OJ,(function(i,t){return a("el-option",{key:t,attrs:{label:i.name,value:i.key}})}))],2)],1),a("el-form-item",{attrs:{label:i.$t("m.Tag_Classification_Rank")}},[a("el-input-number",{attrs:{min:0,max:2147483647},model:{value:i.tagClassification.rank,callback:function(t){i.$set(i.tagClassification,"rank",t)},expression:"tagClassification.rank"}})],1),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",loading:i.upsertTagClassificationLoading},on:{click:i.upsertTagClassification}},[i._v(i._s(i.$t("m."+i.upsertTagBtn))+" ")])],1)],1)],1)],1)}),[],!1,null,"0bf198b8",null);t.default=l.exports},d1a8:function(i,t,a){"use strict";a("06c3")}}]);