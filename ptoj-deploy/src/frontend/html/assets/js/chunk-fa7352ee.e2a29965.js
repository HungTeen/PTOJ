(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fa7352ee"],{"0e1b":function(e,s,a){"use strict";a("5659")},2155:function(e,s,a){"use strict";a.r(s),a("b680");var i=a("3228"),t=a("7aa9"),r=(a("e05f"),{data:function(){var e=this,s=[{required:!0,trigger:"blur"},{trigger:"blur",min:6,max:20,message:this.$i18n.t("m.Password_Check_Between")}];return{loading:{btnPassword:!1,btnEmail:!1},disabled:{btnPassword:!1,btnEmail:!1},verify:{passwordSuccess:!1,passwordMsg:"",emailSuccess:!1,emailMsg:""},visible:{passwordAlert:{type:"success",show:!1,title:"",description:""},emailAlert:{type:"success",show:!1,title:"",description:""},passwordSlideBlock:!1,emailSlideBlock:!1},formPassword:{oldPassword:"",newPassword:"",againPassword:""},formEmail:{password:"",oldEmail:"",newEmail:""},rulePassword:{oldPassword:s,newPassword:[{required:!0,trigger:"blur"},{trigger:"blur",min:6,max:20,message:this.$i18n.t("m.Password_Check_Between")},{validator:function(s,a,i){""!==e.formPassword.oldPassword&&(e.formPassword.oldPassword===e.formPassword.newPassword?i(new Error(e.$i18n.t("m.The_new_password_does_not_change"))):e.$refs.formPassword.validateField("again_password")),i()},trigger:"blur"}],againPassword:[{required:!0,trigger:"blur",message:this.$i18n.t("m.Password_Again_Check_Required")},{validator:function(s,a,i){a!==e.formPassword.newPassword&&i(new Error(e.$i18n.t("m.Password_does_not_match"))),i()},trigger:"blur"}]},ruleEmail:{password:s,newEmail:[{required:!0,message:this.$i18n.t("m.Email_Check_Required"),trigger:"blur"},{type:"email",trigger:"change",message:this.$i18n.t("m.Email_Check_Format")},{validator:function(s,a,i){""!==e.formEmail.oldEmail&&e.formEmail.oldEmail===e.formEmail.newEmail&&i(new Error(e.$i18n.t("m.The_new_email_does_not_change"))),i()},trigger:"blur"}]}}},mounted:function(){this.formEmail.oldEmail=this.$store.getters.userInfo.email||""},methods:{changePassword:function(e){var s=this;this.verify.passwordSuccess=!0,e=(e/1e3).toFixed(1),this.verify.passwordMsg="Total time "+e+"s",setTimeout((function(){s.visible.passwordSlideBlock=!1,s.verify.passwordSuccess=!1,s.$refs.passwordSlideBlock.reset()}),1e3),this.$refs.formPassword.validate((function(e){e&&(s.loading.btnPassword=!0,delete(e=Object.assign({},s.formPassword)).againPassword,i.a.changePassword(e).then((function(e){s.loading.btnPassword=!1,200==e.data.data.code?(t.a.success(s.$i18n.t("m.Update_Successfully")),s.visible.passwordAlert={show:!0,title:s.$i18n.t("m.Update_Successfully"),type:"success",description:e.data.data.msg},setTimeout((function(){s.visible.passwordAlert=!1,s.$router.push({name:"Logout"})}),5e3)):(t.a.error(e.data.data.msg),s.visible.passwordAlert={show:!0,title:s.$i18n.t("m.Update_Failed"),type:"warning",description:e.data.data.msg},403==e.data.data.code&&(s.visible.passwordAlert.type="error",s.disabled.btnPassword=!0))}),(function(e){s.loading.btnPassword=!1})))}))},changeEmail:function(e){var s=this;this.verify.emailSuccess=!0,e=(e/1e3).toFixed(1),this.verify.emailMsg="Total time "+e+"s",setTimeout((function(){s.visible.emailSlideBlock=!1,s.verify.emailSuccess=!1,s.$refs.emailSlideBlock.reset()}),1e3),this.$refs.formEmail.validate((function(e){e&&(s.loading.btnEmail=!0,e=Object.assign({},s.formEmail),i.a.changeEmail(e).then((function(e){s.loading.btnEmail=!1,200==e.data.data.code?(t.a.success(s.$i18n.t("m.Update_Successfully")),s.visible.emailAlert={show:!0,title:s.$i18n.t("m.Update_Successfully"),type:"success",description:e.data.data.msg},s.$store.dispatch("setUserInfo",e.data.data.userInfo),s.$refs.formEmail.resetFields(),s.formEmail.oldEmail=e.data.data.userInfo.email):(t.a.error(e.data.msg),s.visible.emailAlert={show:!0,title:s.$i18n.t("m.Update_Failed"),type:"warning",description:e.data.data.msg},403==e.data.data.code&&(s.visible.emailAlert.type="error",s.disabled.btnEmail=!0))}),(function(e){s.loading.btnEmail=!1})))}))},onAgain:function(e){this.$refs.passwordSlideBlock.reset(),t.a.warning(this.$i18n.t("m.Guess_robot"))}}});a("0e1b"),a=a("2877"),r=Object(a.a)(r,(function(){var e=this,s=e.$createElement;s=e._self._c||s;return s("div",{staticClass:"setting-main"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{sm:24,md:10,lg:10}},[s("div",{staticClass:"left"},[s("p",{staticClass:"section-title"},[e._v(e._s(e.$t("m.Change_Password")))]),s("el-form",{ref:"formPassword",staticClass:"setting-content",attrs:{model:e.formPassword,rules:e.rulePassword}},[s("el-form-item",{attrs:{label:e.$t("m.Old_Password"),prop:"oldPassword"}},[s("el-input",{attrs:{type:"password"},model:{value:e.formPassword.oldPassword,callback:function(s){e.$set(e.formPassword,"oldPassword",s)},expression:"formPassword.oldPassword"}})],1),s("el-form-item",{attrs:{label:e.$t("m.New_Password"),prop:"newPassword"}},[s("el-input",{attrs:{type:"password"},model:{value:e.formPassword.newPassword,callback:function(s){e.$set(e.formPassword,"newPassword",s)},expression:"formPassword.newPassword"}})],1),s("el-form-item",{attrs:{label:e.$t("m.Confirm_New_Password"),prop:"againPassword"}},[s("el-input",{attrs:{type:"password"},model:{value:e.formPassword.againPassword,callback:function(s){e.$set(e.formPassword,"againPassword",s)},expression:"formPassword.againPassword"}})],1)],1),s("el-popover",{attrs:{placement:"top",width:"350",trigger:"click"},model:{value:e.visible.passwordSlideBlock,callback:function(s){e.$set(e.visible,"passwordSlideBlock",s)},expression:"visible.passwordSlideBlock"}},[s("el-button",{attrs:{slot:"reference",type:"primary",loading:e.loading.btnPassword,disabled:e.disabled.btnPassword},slot:"reference"},[e._v(e._s(e.$t("m.Update_Password")))]),s("slide-verify",{directives:[{name:"show",rawName:"v-show",value:!e.verify.passwordSuccess,expression:"!verify.passwordSuccess"}],ref:"passwordSlideBlock",attrs:{l:42,r:10,w:325,h:100,accuracy:3,"slider-text":e.$t("m.Slide_Verify")},on:{success:e.changePassword,again:function(s){return e.onAgain("password")}}}),s("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.verify.passwordSuccess,expression:"verify.passwordSuccess"}],attrs:{title:e.$t("m.Slide_Verify_Success"),type:"success",description:e.verify.passwordMsg,center:!0,closable:!1,"show-icon":""}})],1)],1),s("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.visible.passwordAlert.show,expression:"visible.passwordAlert.show"}],staticStyle:{"margin-top":"15px"},attrs:{title:e.visible.passwordAlert.title,type:e.visible.passwordAlert.type,description:e.visible.passwordAlert.description,closable:!1,effect:"dark","show-icon":""}})],1),s("el-col",{attrs:{md:4,lg:4}},[s("div",{staticClass:"separator hidden-md-and-down"}),s("p")]),s("el-col",{attrs:{sm:24,md:10,lg:10}},[s("div",{staticClass:"right"},[s("p",{staticClass:"section-title"},[e._v(e._s(e.$t("m.Change_Email")))]),s("el-form",{ref:"formEmail",staticClass:"setting-content",attrs:{model:e.formEmail,rules:e.ruleEmail}},[s("el-form-item",{attrs:{label:e.$t("m.Current_Password"),prop:"password"}},[s("el-input",{attrs:{type:"password"},model:{value:e.formEmail.password,callback:function(s){e.$set(e.formEmail,"password",s)},expression:"formEmail.password"}})],1),s("el-form-item",{attrs:{label:e.$t("m.Old_Email")}},[s("el-input",{attrs:{disabled:""},model:{value:e.formEmail.oldEmail,callback:function(s){e.$set(e.formEmail,"oldEmail",s)},expression:"formEmail.oldEmail"}})],1),s("el-form-item",{attrs:{label:e.$t("m.New_Email"),prop:"newEmail"}},[s("el-input",{model:{value:e.formEmail.newEmail,callback:function(s){e.$set(e.formEmail,"newEmail",s)},expression:"formEmail.newEmail"}})],1)],1),s("el-popover",{attrs:{placement:"top",width:"350",trigger:"click"},model:{value:e.visible.emailSlideBlock,callback:function(s){e.$set(e.visible,"emailSlideBlock",s)},expression:"visible.emailSlideBlock"}},[s("el-button",{attrs:{slot:"reference",type:"primary",loading:e.loading.btnEmailLoading,disabled:e.disabled.btnEmail},slot:"reference"},[e._v(e._s(e.$t("m.Update_Email")))]),s("slide-verify",{directives:[{name:"show",rawName:"v-show",value:!e.verify.emailSuccess,expression:"!verify.emailSuccess"}],ref:"emailSlideBlock",attrs:{l:42,r:10,w:325,h:100,accuracy:3,"slider-text":e.$t("m.Slide_Verify")},on:{success:e.changeEmail,again:function(s){return e.onAgain("email")}}}),s("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.verify.emailSuccess,expression:"verify.emailSuccess"}],attrs:{title:e.$t("m.Slide_Verify_Success"),type:"success",description:e.verify.emailMsg,center:!0,closable:!1,"show-icon":""}})],1)],1),s("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.visible.emailAlert.show,expression:"visible.emailAlert.show"}],staticStyle:{"margin-top":"15px"},attrs:{title:e.visible.emailAlert.title,type:e.visible.emailAlert.type,description:e.visible.emailAlert.description,closable:!1,effect:"dark","show-icon":""}})],1)],1)],1)}),[],!1,null,"a5f1b462",null);s.default=r.exports},5659:function(e,s,a){}}]);