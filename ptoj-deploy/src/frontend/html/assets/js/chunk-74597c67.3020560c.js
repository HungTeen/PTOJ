(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-74597c67"],{"241c1":function(e,t,a){"use strict";a.r(t),a("a434"),a("ac1f"),a("5319");var s=a("3228"),i=a("7aa9"),l=a("90b9"),o={name:"SystemConfig",data:function(){return{init:!1,saved:!1,loadingBtnTest:!1,smtp:{emailHost:"smtp.example.com",emailPassword:"",emailPort:587,emailBGImg:"",emailUsername:"email@example.com",emailSsl:!0},websiteConfig:{},databaseConfig:{},dialogImageUrl:"",dialogVisible:!1,disabled:!1,carouselImgList:[]}},mounted:function(){var e=this;s.a.admin_getSMTPConfig().then((function(t){t.data.data?e.smtp=t.data.data:(e.init=!0,i.a.warning("No STMP Config"))})),s.a.getHomeCarousel().then((function(t){e.carouselImgList=t.data.data})),s.a.admin_getWebsiteConfig().then((function(t){e.websiteConfig=t.data.data})).catch((function(){})),s.a.admin_getDataBaseConfig().then((function(t){e.databaseConfig=t.data.data})).catch((function(){}))},methods:{handleRemove:function(e){var t=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,l=e.id;null!=e.response&&(l=e.response.data.id),s.a.admin_deleteHomeCarousel(l).then((function(e){i.a.success(t.$i18n.t("m.Delete_successfully")),null!=a&&t.carouselImgList.splice(a,1)}))},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){l.a.downloadFile(e.url)},saveSMTPConfig:function(){var e=this;s.a.admin_editSMTPConfig(this.smtp).then((function(t){i.a.success(e.$i18n.t("m.Update_Successfully")),e.saved=!0}),(function(){e.saved=!1}))},testSMTPConfig:function(){var e=this;this.$prompt(this.$i18n.t("m.Please_input_your_email"),"",{inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:this.$i18n.t("m.Email_Check_Format")}).then((function(t){t=t.value,e.loadingBtnTest=!0,s.a.admin_testSMTPConfig(t).then((function(t){i.a.success(e.$i18n.t("m.Send_successfully")),e.loadingBtnTest=!1}),(function(){e.loadingBtnTest=!1}))})).catch((function(){}))},saveWebsiteConfig:function(){var e,t=this;for(e in this.websiteConfig)"register"!=e&&(null!=this.websiteConfig[e]&&this.websiteConfig[e].replace(/(^\s*)|(\s*$)/g,"")||(this.websiteConfig[e]="None"));s.a.admin_editWebsiteConfig(this.websiteConfig).then((function(e){i.a.success(t.$i18n.t("m.Update_Successfully"))})).catch((function(){}))},saveDataBaseConfig:function(){var e=this;s.a.admin_editDataBaseConfig(this.databaseConfig).then((function(t){i.a.success(e.$i18n.t("m.Update_Successfully"))})).catch((function(){}))}}};a=a("2877"),o=Object(a.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.$t("m.Website_Config")))])]),a("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"110px",model:e.websiteConfig}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:8,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Base_Url"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Base_Url")},model:{value:e.websiteConfig.baseUrl,callback:function(t){e.$set(e.websiteConfig,"baseUrl",t)},expression:"websiteConfig.baseUrl"}})],1)],1),a("el-col",{attrs:{md:8,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Web_Name"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Web_Name")},model:{value:e.websiteConfig.name,callback:function(t){e.$set(e.websiteConfig,"name",t)},expression:"websiteConfig.name"}})],1)],1),a("el-col",{attrs:{md:8,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Short_Name"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Short_Name")},model:{value:e.websiteConfig.shortName,callback:function(t){e.$set(e.websiteConfig,"shortName",t)},expression:"websiteConfig.shortName"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Record_Name"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Record_Name")},model:{value:e.websiteConfig.recordName,callback:function(t){e.$set(e.websiteConfig,"recordName",t)},expression:"websiteConfig.recordName"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Record_Url"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Record_Url")},model:{value:e.websiteConfig.recordUrl,callback:function(t){e.$set(e.websiteConfig,"recordUrl",t)},expression:"websiteConfig.recordUrl"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Project_Name"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Project_Name")},model:{value:e.websiteConfig.projectName,callback:function(t){e.$set(e.websiteConfig,"projectName",t)},expression:"websiteConfig.projectName"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Project_Url"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Project_Url")},model:{value:e.websiteConfig.projectUrl,callback:function(t){e.$set(e.websiteConfig,"projectUrl",t)},expression:"websiteConfig.projectUrl"}})],1)],1),a("el-col",{attrs:{md:24,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Web_Desc"),required:""}},[a("el-input",{attrs:{type:"textarea",placeholder:e.$t("m.Web_Desc"),maxlength:"150","show-word-limit":""},model:{value:e.websiteConfig.description,callback:function(t){e.$set(e.websiteConfig,"description",t)},expression:"websiteConfig.description"}})],1)],1),a("el-col",{attrs:{md:24,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Allow_Register"),"label-width":"120px"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.websiteConfig.register,callback:function(t){e.$set(e.websiteConfig,"register",t)},expression:"websiteConfig.register"}})],1)],1)],1)],1),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return e.saveWebsiteConfig(t)}}},[e._v(e._s(e.$t("m.Save")))])],1),a("el-card",{staticStyle:{"margin-top":"15px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.$t("m.Home_Rotation_Chart")))])]),a("ul",{staticClass:"el-upload-list el-upload-list--picture-card"},e._l(e.carouselImgList,(function(t,s){return a("li",{key:s,staticClass:"el-upload-list__item is-ready",attrs:{tabindex:"0"}},[a("div",[a("img",{staticClass:"el-upload-list__item-thumbnail",staticStyle:{height:"146px",width:"146x"},attrs:{src:t.url,alt:"load faild"}}),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(a){return e.handlePictureCardPreview(t)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(a){return e.handleDownload(t)}}},[a("i",{staticClass:"el-icon-download"})]),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(a){return e.handleRemove(t,s)}}},[a("i",{staticClass:"el-icon-delete"})])])])])})),0),a("el-upload",{staticStyle:{display:"inline"},attrs:{action:"/api/file/upload-carouse-img","list-type":"picture-card",accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg,image/jfif,image/webp","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),a("el-card",{staticStyle:{"margin-top":"15px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.$t("m.SMTP_Config")))])]),a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.smtp}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:24,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Host"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:e.$t("m.Host")},model:{value:e.smtp.emailHost,callback:function(t){e.$set(e.smtp,"emailHost",t)},expression:"smtp.emailHost"}})],1)],1),a("el-col",{attrs:{md:24,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Port"),required:"","label-width":"80px"}},[a("el-input",{attrs:{type:"number",placeholder:e.$t("m.Port")},model:{value:e.smtp.emailPort,callback:function(t){e.$set(e.smtp,"emailPort",t)},expression:"smtp.emailPort"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Email"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:e.$t("m.Email")},model:{value:e.smtp.emailUsername,callback:function(t){e.$set(e.smtp,"emailUsername",t)},expression:"smtp.emailUsername"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Password"),"label-width":"80px",required:""}},[a("el-input",{attrs:{type:"password",placeholder:e.$t("m.Password")},model:{value:e.smtp.emailPassword,callback:function(t){e.$set(e.smtp,"emailPassword",t)},expression:"smtp.emailPassword"}})],1)],1),a("el-col",{attrs:{md:24,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Email_BG"),"label-width":"80px",required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Email_BG_Desc")},model:{value:e.smtp.emailBGImg,callback:function(t){e.$set(e.smtp,"emailBGImg",t)},expression:"smtp.emailBGImg"}})],1)],1),a("el-col",{attrs:{md:24,xs:24}},[a("el-form-item",{attrs:{label:"SSL"}},[a("el-switch",{model:{value:e.smtp.emailSsl,callback:function(t){e.$set(e.smtp,"emailSsl",t)},expression:"smtp.emailSsl"}})],1)],1)],1)],1),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return e.saveSMTPConfig(t)}}},[e._v(e._s(e.$t("m.Save")))]),e.saved?a("el-button",{attrs:{type:"warning",loading:e.loadingBtnTest,size:"small"},nativeOn:{click:function(t){return e.testSMTPConfig(t)}}},[e._v(e._s(e.$t("m.Send_Test_Email")))]):e._e()],1),a("el-card",{staticStyle:{"margin-top":"15px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.$t("m.DataSource_Config")))])]),a("el-form",{attrs:{"label-position":"top",model:e.databaseConfig}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:"MySQL "+e.$t("m.Host"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"MySQL "+e.$t("m.Host")},model:{value:e.databaseConfig.dbHost,callback:function(t){e.$set(e.databaseConfig,"dbHost",t)},expression:"databaseConfig.dbHost"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:"MySQL "+e.$t("m.Port"),required:"","label-width":"80px"}},[a("el-input",{attrs:{type:"number",placeholder:"MySQL "+e.$t("m.Port")},model:{value:e.databaseConfig.dbPort,callback:function(t){e.$set(e.databaseConfig,"dbPort",t)},expression:"databaseConfig.dbPort"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:"MySQL "+e.$t("m.Username"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"MySQL "+e.$t("m.Username")},model:{value:e.databaseConfig.dbUsername,callback:function(t){e.$set(e.databaseConfig,"dbUsername",t)},expression:"databaseConfig.dbUsername"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:"MySQL "+e.$t("m.Password"),"label-width":"80px",required:""}},[a("el-input",{attrs:{type:"password",placeholder:"MySQL "+e.$t("m.Password")},model:{value:e.databaseConfig.dbPassword,callback:function(t){e.$set(e.databaseConfig,"dbPassword",t)},expression:"databaseConfig.dbPassword"}})],1)],1),a("el-col",{attrs:{md:8,xs:24}},[a("el-form-item",{attrs:{label:"Redis "+e.$t("m.Host"),"label-width":"80px",required:""}},[a("el-input",{attrs:{placeholder:"Redis "+e.$t("m.Host")},model:{value:e.databaseConfig.redisHost,callback:function(t){e.$set(e.databaseConfig,"redisHost",t)},expression:"databaseConfig.redisHost"}})],1)],1),a("el-col",{attrs:{md:8,xs:24}},[a("el-form-item",{attrs:{label:"Redis "+e.$t("m.Port"),"label-width":"80px",required:""}},[a("el-input",{attrs:{type:"number",placeholder:"Redis "+e.$t("m.Port")},model:{value:e.databaseConfig.redisPort,callback:function(t){e.$set(e.databaseConfig,"redisPort",t)},expression:"databaseConfig.redisPort"}})],1)],1),a("el-col",{attrs:{md:8,xs:24}},[a("el-form-item",{attrs:{label:"Redis "+e.$t("m.Password"),"label-width":"80px",required:""}},[a("el-input",{attrs:{type:"password",placeholder:"Redis "+e.$t("m.Password")},model:{value:e.databaseConfig.redisPassword,callback:function(t){e.$set(e.databaseConfig,"redisPassword",t)},expression:"databaseConfig.redisPassword"}})],1)],1)],1)],1),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return e.saveDataBaseConfig(t)}}},[e._v(e._s(e.$t("m.Save")))])],1)],1)}),[],!1,null,null,null);t.default=o.exports}}]);